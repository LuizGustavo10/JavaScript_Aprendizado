<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Exemplo de Requisição Assíncrona com API de Clima</title>
</head>

<body>
    <h1>Exemplo de Requisição Assíncrona com API de Clima</h1>
    <label for="cidade">Digite a cidade:</label>
    <input type="text" id="cidade">
    <button onclick="buscarClima()">Buscar Clima</button>
    <div id="clima"></div>
</body>
<script>
    async function buscarClima() {
        const cidade = document.getElementById('cidade').value;
        const url = `https://api.openweathermap.org/data/2.5/weather?q=${cidade}&appid=API_KEY&units=metric`;

        try {
            const resposta = await fetch(url);
            const dados = await resposta.json();
            const clima = document.getElementById('clima');
            clima.innerText = `A temperatura em ${cidade} é de ${dados.main.temp} graus Celsius.`;
        } catch (erro) {
            console.log(erro);
            const clima = document.getElementById('clima');
            clima.innerText = 'Não foi possível buscar o clima da cidade informada. Tente novamente.';
        }
    }
</script>

</html>