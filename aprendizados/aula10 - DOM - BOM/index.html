<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Aula 10  - JS</title>


  </head>
  <body>
    <!-- avançar e voltar histórico -->
    <input type="button" name="" value="Avançar" onclick="window.history.forward()">
    <input type="button" name="" value="voltar" onclick="window.history.back()">
    <input type="button" name="" value="Cancelar timeout" onclick="clearTimeout(msg)">

    <div id="msg">

    </div>

    <script type="text/javascript">
      console.log(window.location.href)//retorna a url do documento
      window.localStorage.setItem('Nome', 'Ricardo');//armazenando localmente
      window.sessionStorage.setItem('Nome', 'Ricardo');//armazenando na sessão, enquanto o navegador está aberto
      document.getElementById('msg').innerHTML = window.localStorage.getItem('Nome');//armazenou dado localmente e exibiu na tela

      var janela = window.open('','nome', 'width=500, height=400');//abre uma nova janela
      janela.document.whrite('Isso é uma janela popup');
      janela.opener.document.write('Isso é um texto para minha janela principal');


      var msg = setTimeout(msgtimeout, 2000);//causa um atraso para aparecer

      setInterval(msginterval, 2000);//a cada intervalo executa de forma continua

      function msgtimeout() {
        console.log('MSG do time out');
      }
      function msginterval() {
        console.log('MSG via interval');
      }


      var intervalo = setInterval(verificaFoco, 1000);
      var contador = 0;
      function verificaFoco() {
        if (document.hasFocus()) {
          contador++;
          console.log(contador);
          if (contador >= 10) {
            msgtimeout();
            clearInterval(intervalo);
          }

        }
      }

    </script>

  </body>
</html>
